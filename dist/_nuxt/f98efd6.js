(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{320:function(t,e,o){var content=o(698);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(30).default)("3d834f57",content,!0,{sourceMap:!1})},409:function(t,e){},411:function(t,e){},421:function(t,e){},423:function(t,e){},448:function(t,e){},450:function(t,e){},451:function(t,e){},457:function(t,e){},459:function(t,e){},477:function(t,e){},479:function(t,e){},491:function(t,e){},494:function(t,e){},697:function(t,e,o){"use strict";var n=o(320);o.n(n).a},698:function(t,e,o){(e=o(29)(!1)).push([t.i,".insert-image-container[data-v-2a0187c0]{display:none;position:absolute;left:-10000000}",""]),t.exports=e},725:function(t,e,o){"use strict";o.r(e);o(67),o(25),o(26),o(12),o(160);var n=o(2),r=o(285),l=o.n(r),d=o(286),c=o.n(d),m=(o(287),o(295)),f=o.n(m),h=(o(296),o(704));n.a.use(l.a),n.a.use(c.a),n.a.component("medium-editor",h.a);var v={layout:"no-header",middleware:"auth",components:{"v-select":f.a},data:function(){return{recordings:"",group:"",defaultValue:"",options:{uploadUrl:"https://api.imgur.com/3/image",uploadUrlHeader:{Authorization:"Client-ID 8e88bc43a6e7aa9"},file_input_name:"image",imgur:!0,placeholder:{text:"Deskripsi Lengkap"},toolbar:{buttons:["bold","italic",{name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>ðŸ”—</b>",contentFA:'<i class="fa fa-link"></i>'},"underline","quote","h5","h6","unorderedlist","orderedlist"]}},modal_quest:!1,showModal:"",d:{desc:"",type:""},img:{audio:"",width:300,height:200},imgTemp:null}},created:function(){var t=this;this.$nextTick((function(){return t.$refs.inputTextArea.focus()})),this.$route.query.group_id?this.group={id:this.$route.query.group_id,username:this.$route.query.group_username}:this.$route.query.text&&(this.d.text="#"+this.$route.query.text+" ")},methods:{onResult:function(data){var t=window.URL.createObjectURL(data);this.recordings=t;var e=this,o=new window.FileReader;o.readAsDataURL(data),o.onloadend=function(){e.d.audio=o.result}},onChange:function(){},cropImg:function(){var t=this;this.imgTemp&&(this.d.img=this.imgTemp.generateDataUrl("image/jpeg",.8),this.showModal="",this.$nextTick((function(){return t.$refs.inputTextArea.focus()})))},showModalQuest:function(source){var t=this;"img"==source?this.showModal="img":"sp"==source&&(this.showModal="sp",this.$nextTick((function(){return t.$refs.inputSP.focus()}))),"yt"==source&&(this.showModal="yt",this.$nextTick((function(){return t.$refs.inputYT.focus()})))},createNew:function(){var t=this;this.modal_quest=!0,this.$nextTick((function(){return t.$refs.inputTextArea.focus()}))},cekSumber:function(t){if(t){if(t.search("spotify")>0)return"spotify";if(t.search("youtu.be")>0)return"youtube"}},textToArray:function(text){return text.toString().split(" ")},getUrl:function(t){if(t){if("spotify"==this.cekSumber(t))var e=t.split("/"),o="https://open.spotify.com/embed-podcast/"+e[3]+"/"+e[4].split("?")[0];else if("youtube"==this.cekSumber(t))o="https://www.youtube.com/embed/"+t.split("/")[3];else o="";return o}return""},kirim:function(){var t=this;this.group&&(this.d.group_id=this.group.id),this.d.embed=this.getUrl(this.d.embed),this.d.anonim=this.$store.state.anonim,this.d.text&&(this.$store.commit("loading",!0),this.$axios.$post("/quest",this.d).then((function(e){t.$store.commit("loading",!1),t.$router.push(t.localePath("/quest/"+e.id))})))}}},w=(o(697),o(11)),component=Object(w.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"w-full p-2"},[o("div",{staticClass:"w-full content-start max-w-xl bg-theme_primary_light flex flex-wrap justify-center z-50 overflow-y-scroll  rounded-xl p-4"},[t.d.video?o("div",{staticClass:"rounded-xl w-full"},[o("video",{attrs:{width:"100%",controls:"",autoplay:""}},[o("source",{attrs:{src:t.d.video,type:"video/mp4"}}),t._v("\n          Your browser does not support the video tag.\n        ")])]):t._e(),t._v(" "),t.d.img?o("div",{staticClass:"w-full"},[o("img",{staticClass:"w-full rounded-xl",attrs:{src:t.d.img}})]):t._e(),t._v(" "),t.d.embed?o("div",{staticClass:"w-full pb-4 videoWrapper"},["spotify"==t.cekSumber(t.d.embed)?o("iframe",{attrs:{src:t.getUrl(t.d.embed),width:"100%",height:"232",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"}}):t._e(),t._v(" "),"youtube"==t.cekSumber(t.d.embed)?o("iframe",{attrs:{width:"560",height:"315",src:t.getUrl(t.d.embed),frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):t._e()]):t._e(),t._v(" "),t.group?o("h1",{staticClass:"p-2 font-bold"},[t._v("\n        Kirim Ke Group : #"+t._s(t.group.username)+"\n      ")]):t._e(),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.d.text,expression:"d.text"}],ref:"inputTextArea",staticClass:"bg-theme_primary_dark w-full rounded-lg p-4 mt-3",staticStyle:{height:"120px"},attrs:{placeholder:"Katakan Sesuatu",maxlength:"255"},domProps:{value:t.d.text},on:{click:function(e){t.showModal=""},input:function(e){e.target.composing||t.$set(t.d,"text",e.target.value)}}}),t._v(" "),o("div",{staticClass:"w-full p-2 flex flex-wrap justify-center"},[o("div",{staticClass:"flex my-3 mr-auto cursor-pointer",on:{click:function(e){return t.$store.commit("setAnonim",!t.$store.state.anonim)}}},[o("img",{staticClass:"rounded-full w-8 h-8",attrs:{src:t.$store.state.anonim?"/anonim.png":t.$store.state.user.avatar,alt:"Anonim"}}),t._v(" "),t.$store.state.anonim?o("span",{staticClass:"px-2 font-bold mt-1 font-lg"},[t._v(" "+t._s(t.$t("as"))+" Anonim ")]):o("span",{staticClass:"px-2 font-bold mt-1 font-lg"},[t._v(" "+t._s(t.$t("as"))+" "+t._s(t.$store.state.user.username)+" ")])]),t._v(" "),o("div",{staticClass:" lg:hidden"},[t.recordings?t._e():o("vue-record-audio",{staticClass:"lg:mx-3",attrs:{mode:"press"},on:{result:t.onResult}})],1),t._v(" "),t.recordings?o("audio",{staticClass:"mt-2",attrs:{src:t.recordings,controls:""}}):t._e()]),t._v(" "),t.recordings?o("span",{staticClass:"text-danger text-xs",on:{click:function(e){t.d.audio="",t.recordings=""}}},[t._v("Hapus Audio")]):t._e(),t._v(" "),o("div",{staticClass:"flex w-full mt-3 "},[o("span",{staticClass:"px-2"},[t._v("Upload  :")]),t._v(" "),o("div",{staticClass:"ml-8 cursor-pointer text-primary",on:{click:function(e){return t.showModalQuest("img")}}},[o("svg",{staticClass:"w-7 h-8 bi bi-card-image",attrs:{viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3h-13a.5.5 0 0 0-.5.5v9c0 .013 0 .027.002.04V12l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094L15 9.499V3.5a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13zm4.502 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}})])])]),t._v(" "),o("div",{staticClass:"flex w-full mt-2 bg-theme_primary_dark rounded-full"},[o("button",{staticClass:" text-xs p-2 w-full flex justify-center",class:1==t.d.type?"bg-primary text-secondary rounded-full":"",on:{click:function(e){t.d.type=1}}},[t._v("\n       \n          "+t._s(t.$t("story"))+"\n        ")]),t._v(" "),o("button",{staticClass:" text-xs p-2 w-full flex justify-center",class:2==t.d.type?"bg-primary text-secondary rounded-full":"",on:{click:function(e){t.d.type=2}}},[t._v("\n       \n          "+t._s(t.$t("events"))+"\n        ")]),t._v(" "),t.d.type?o("button",{staticClass:"bg-danger rounded-full text-white text-xs p-2 w-full flex justify-center",class:3==t.d.type?"bg-primary text-secondary":"",on:{click:function(e){t.d.type=""}}},[t._v("\n          Batalkan\n        ")]):t._e()]),t._v(" "),t.d.type?o("div",{staticClass:"flex flex-wrap w-full mt-3"},[2==t.d.type?o("div",{staticClass:"w-full"},[o("div",{staticClass:"flex flex-wrap"},[o("div",{staticClass:"flex w-full lg:w-1/2 flex-wrap p-2"},[o("label",{staticClass:"py-2"},[t._v("Tanggal Mulai")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.d.start,expression:"d.start"}],staticClass:"w-full shadow-sm bg-theme_primary_dark py-2 px-4 rounded-lg mb-3",attrs:{type:"datetime-local",placeholder:"Tanggal Mulai "},domProps:{value:t.d.start},on:{input:function(e){e.target.composing||t.$set(t.d,"start",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"flex w-full lg:w-1/2 flex-wrap p-2"},[o("label",{staticClass:"py-2"},[t._v("Tanggal Selesai")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.d.end,expression:"d.end"}],staticClass:"w-full  shadow-sm bg-theme_primary_dark py-2 px-4 rounded-lg mb-3",attrs:{type:"datetime-local",placeholder:"Tanggal Selesai "},domProps:{value:t.d.end},on:{input:function(e){e.target.composing||t.$set(t.d,"end",e.target.value)}}})])])]):t._e()]):t._e(),t._v(" "),t.d.type?o("div",{staticClass:"w-full"},[o("medium-editor",{staticClass:"bg-theme_primary_dark p-2 px-5 rounded-lg",attrs:{prefill:t.defaultValue,options:t.options,onChange:t.onChange},model:{value:t.d.desc,callback:function(e){t.$set(t.d,"desc",e)},expression:"d.desc"}})],1):t._e(),t._v(" "),o("button",{staticClass:" py-2 w-full rounded-full mt-2 bg-primary hover:bg-primary_dark text-white shadow-sm flex justify-center",on:{click:t.kirim}},[o("svg",{staticClass:"bi bi-cursor mt-1",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd",d:"M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103zM2.25 8.184l3.897 1.67a.5.5 0 0 1 .262.263l1.67 3.897L12.743 3.52 2.25 8.184z"}})]),t._v(" "),o("span",{staticClass:"px-2"},[t._v("Kirim")])]),t._v(" "),o("button",{staticClass:" py-2 w-full rounded-full mt-2  text-primary shadow-sm",on:{click:function(e){return t.$router.back()}}},[t._v("\n        Batalkan\n      ")]),t._v(" "),t.showModal?o("section",{staticClass:"w-full bg-transparent flex flex-wrap justify-center content-end lg:content-conter z-30 right-0 "},[o("div",{staticClass:"w-full  flex flex-wrap justify-center content-end lg:content-conter bg-theme_primary_dark opacity-50 z-40 right-0  ",on:{click:function(e){t.showModal=""}}}),t._v(" "),o("div",{staticClass:"w-full  justify-center flex flex-wrap z-50 content-end lg:content-conter bg-theme_primary_dark rounded-xl p-5 mx-auto absolute bottom-0 mb-32 ",staticStyle:{"z-index":"1000000","max-width":"600px"}},["yt"==t.showModal?o("div",{staticClass:"w-full flex flex-wrap"},[o("h1",{staticClass:"font-bold p-2"},[t._v("Paste Youtube Share Link")]),t._v(" "),o("span",{staticClass:"text-danger ml-auto",on:{click:function(e){t.showModal=""}}},[t._v("Tutup")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.d.embed,expression:"d.embed"}],ref:"inputYT",staticClass:"  p-3 bg-theme_primary_dark w-full rounded-lg",attrs:{placeholder:"Link Youtube contoh: 'https://youtu.be/hH6hI5grCms'",type:"text"},domProps:{value:t.d.embed},on:{input:function(e){e.target.composing||t.$set(t.d,"embed",e.target.value)}}})]):t._e(),t._v(" "),"sp"==t.showModal?o("div",{staticClass:"w-full flex flex-wrap"},[o("h1",{staticClass:"font-bold p-2"},[t._v("Paste Spotify Podcast Link")]),t._v(" "),o("span",{staticClass:"text-danger ml-auto",on:{click:function(e){t.showModal=""}}},[t._v("Tutup")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.d.embed,expression:"d.embed"}],ref:"inputSP",staticClass:"  p-3 bg-theme_primary_dark w-full rounded-lg",attrs:{placeholder:"Spotify Podcast Link contoh: 'https://open.spotify.com/episode/1IJCl8993xjDNdIKR5EVVE?si=K4XrGBSrS12Kcjh3ZHOMZA'",type:"text"},domProps:{value:t.d.embed},on:{input:function(e){e.target.composing||t.$set(t.d,"embed",e.target.value)}}})]):t._e(),t._v(" "),"img"==t.showModal?o("div",{staticClass:"w-full flex flex-wrap"},[o("span",{staticClass:"text-danger ml-auto",on:{click:function(e){t.showModal=""}}},[t._v("Tutup")]),t._v(" "),o("div",{staticClass:"w-full text-center"},[o("croppa",{staticClass:"shadow-sm rounded-lg bg-primary",attrs:{"prevent-white-space":"",width:t.img.width,height:t.img.height,quality:2,placeholder:"Upload Foto"},model:{value:t.imgTemp,callback:function(e){t.imgTemp=e},expression:"imgTemp"}}),t._v(" "),o("br"),t._v(" "),t.imgTemp?o("button",{staticClass:"bg-primary px-4 py-2 rounded-lg text-secondary",on:{click:t.cropImg}},[t._v("\n                Crop & Simpan\n              ")]):t._e()],1)]):t._e()])]):t._e()])])}),[],!1,null,"2a0187c0",null);e.default=component.exports}}]);