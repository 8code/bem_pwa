(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{280:function(t,e,n){(function(e){var n;n=function(){"use strict";"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var t=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){t.exports={drawImage:function(img,t,e,n,o,r){if(!/^[1-8]$/.test(t))throw new Error("orientation should be [1-8]");null==e&&(e=0),null==n&&(n=0),null==o&&(o=img.width),null==r&&(r=img.height);var canvas=document.createElement("canvas"),h=canvas.getContext("2d");switch(canvas.width=o,canvas.height=r,h.save(),+t){case 1:break;case 2:h.translate(o,0),h.scale(-1,1);break;case 3:h.translate(o,r),h.rotate(1*Math.PI);break;case 4:h.translate(0,r),h.scale(1,-1);break;case 5:canvas.width=r,canvas.height=o,h.rotate(.5*Math.PI),h.scale(1,-1);break;case 6:canvas.width=r,canvas.height=o,h.rotate(.5*Math.PI),h.translate(0,-r);break;case 7:canvas.width=r,canvas.height=o,h.rotate(1.5*Math.PI),h.translate(-o,r),h.scale(1,-1);break;case 8:canvas.width=r,canvas.height=o,h.translate(0,o),h.rotate(1.5*Math.PI)}return h.drawImage(img,e,n,o,r),h.restore(),canvas}}})),u={onePointCoord:function(t,e){var canvas=e.canvas,n=e.quality,rect=canvas.getBoundingClientRect(),o=t.clientX,r=t.clientY;return{x:(o-rect.left)*n,y:(r-rect.top)*n}},getPointerCoords:function(t,e){var n=void 0;return n=t.touches&&t.touches[0]?t.touches[0]:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0]:t,this.onePointCoord(n,e)},getPinchDistance:function(t,e){var n=t.touches[0],o=t.touches[1],r=this.onePointCoord(n,e),h=this.onePointCoord(o,e);return Math.sqrt(Math.pow(r.x-h.x,2)+Math.pow(r.y-h.y,2))},getPinchCenterCoord:function(t,e){var n=t.touches[0],o=t.touches[1],r=this.onePointCoord(n,e),h=this.onePointCoord(o,e);return{x:(r.x+h.x)/2,y:(r.y+h.y)/2}},imageLoaded:function(img){return img.complete&&0!==img.naturalWidth},rAFPolyfill:function(){if("undefined"!=typeof document&&"undefined"!=typeof window){for(var t=0,e=["webkit","moz"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),o=Math.max(0,16.7-(n-t)),r=window.setTimeout((function(){e(n+o)}),o);return t=n+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}}},toBlobPolyfill:function(){var t,e,n;"undefined"!=typeof document&&"undefined"!=typeof window&&HTMLCanvasElement&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(o,r,h){t=atob(this.toDataURL(r,h).split(",")[1]),e=t.length,n=new Uint8Array(e);for(var i=0;i<e;i++)n[i]=t.charCodeAt(i);o(new Blob([n],{type:r||"image/png"}))}}))},eventHasFile:function(t){var dt=t.dataTransfer||t.originalEvent.dataTransfer;if(dt.types)for(var i=0,e=dt.types.length;i<e;i++)if("Files"==dt.types[i])return!0;return!1},getFileOrientation:function(t){var view=new DataView(t);if(65496!=view.getUint16(0,!1))return-2;for(var e=view.byteLength,n=2;n<e;){var marker=view.getUint16(n,!1);if(n+=2,65505==marker){if(1165519206!=view.getUint32(n+=2,!1))return-1;var o=18761==view.getUint16(n+=6,!1);n+=view.getUint32(n+4,o);var r=view.getUint16(n,o);n+=2;for(var i=0;i<r;i++)if(274==view.getUint16(n+12*i,o))return view.getUint16(n+12*i+8,o)}else{if(65280!=(65280&marker))break;n+=view.getUint16(n,!1)}}return-1},parseDataUrl:function(t){return/^data:([^;]+)?(;base64)?,(.*)/gim.exec(t)[3]},base64ToArrayBuffer:function(t){for(var e=atob(t),n=e.length,o=new Uint8Array(n),i=0;i<n;i++)o[i]=e.charCodeAt(i);return o.buffer},getRotatedImage:function(img,e){var n=t.drawImage(img,e),o=new Image;return o.src=n.toDataURL(),o},flipX:function(t){return t%2==0?t-1:t+1},flipY:function(t){return{1:4,4:1,2:3,3:2,5:8,8:5,6:7,7:6}[t]},rotate90:function(t){return{1:6,2:7,3:8,4:5,5:2,6:3,7:4,8:1}[t]},numberValid:function(t){return"number"==typeof t&&!isNaN(t)}};Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};var n=String;"undefined"!=typeof window&&window.Image&&(n=[String,Image]);var o={value:Object,width:{type:Number,default:200,validator:function(t){return t>0}},height:{type:Number,default:200,validator:function(t){return t>0}},placeholder:{type:String,default:"Choose an image"},placeholderColor:{default:"#606060"},placeholderFontSize:{type:Number,default:0,validator:function(t){return t>=0}},canvasColor:{default:"transparent"},quality:{type:Number,default:2,validator:function(t){return t>0}},zoomSpeed:{default:3,type:Number,validator:function(t){return t>0}},accept:String,fileSizeLimit:{type:Number,default:0,validator:function(t){return t>=0}},disabled:Boolean,disableDragAndDrop:Boolean,disableClickToChoose:Boolean,disableDragToMove:Boolean,disableScrollToZoom:Boolean,disablePinchToZoom:Boolean,disableRotation:Boolean,reverseScrollToZoom:Boolean,preventWhiteSpace:Boolean,showRemoveButton:{type:Boolean,default:!0},removeButtonColor:{type:String,default:"red"},removeButtonSize:{type:Number},initialImage:n,initialSize:{type:String,default:"cover",validator:function(t){return"cover"===t||"contain"===t||"natural"===t}},initialPosition:{type:String,default:"center",validator:function(t){var e=["center","top","bottom","left","right"];return t.split(" ").every((function(t){return e.indexOf(t)>=0}))||/^-?\d+% -?\d+%$/.test(t)}},inputAttrs:Object,showLoading:Boolean,loadingSize:{type:Number,default:20},loadingColor:{type:String,default:"#606060"},replaceDrop:Boolean,passive:Boolean,imageBorderRadius:{type:[Number,String],default:0},autoSizing:Boolean,videoEnabled:Boolean},r="init",h="file-choose",l="file-size-exceed",c="file-type-mismatch",d="new-image",f="new-image-drawn",m="image-remove",v="move",w="zoom",y="draw",D="initial-image-loaded",_="loading-start",S="loading-end",k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P=["imgData","img","imgSet","originalImage","naturalHeight","naturalWidth","orientation","scaleRatio"],component={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",class:"croppa-container "+(t.img?"croppa--has-target":"")+" "+(t.passive?"croppa--passive":"")+" "+(t.disabled?"croppa--disabled":"")+" "+(t.disableClickToChoose?"croppa--disabled-cc":"")+" "+(t.disableDragToMove&&t.disableScrollToZoom?"croppa--disabled-mz":"")+" "+(t.fileDraggedOver?"croppa--dropzone":""),on:{dragenter:function(e){return e.stopPropagation(),e.preventDefault(),t._handleDragEnter(e)},dragleave:function(e){return e.stopPropagation(),e.preventDefault(),t._handleDragLeave(e)},dragover:function(e){return e.stopPropagation(),e.preventDefault(),t._handleDragOver(e)},drop:function(e){return e.stopPropagation(),e.preventDefault(),t._handleDrop(e)}}},[n("input",t._b({ref:"fileInput",staticStyle:{height:"1px",width:"1px",overflow:"hidden","margin-left":"-99999px",position:"absolute"},attrs:{type:"file",accept:t.accept,disabled:t.disabled},on:{change:t._handleInputChange}},"input",t.inputAttrs,!1)),t._v(" "),n("div",{staticClass:"slots",staticStyle:{width:"0",height:"0",visibility:"hidden"}},[t._t("initial"),t._v(" "),t._t("placeholder")],2),t._v(" "),n("canvas",{ref:"canvas",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t._handleClick(e)},dblclick:function(e){return e.stopPropagation(),e.preventDefault(),t._handleDblClick(e)},touchstart:function(e){return e.stopPropagation(),t._handlePointerStart(e)},mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerStart(e)},pointerstart:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerStart(e)},touchend:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},touchcancel:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},pointerend:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},pointercancel:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},touchmove:function(e){return e.stopPropagation(),t._handlePointerMove(e)},mousemove:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerMove(e)},pointermove:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerMove(e)},pointerleave:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerLeave(e)},DOMMouseScroll:function(e){return e.stopPropagation(),t._handleWheel(e)},wheel:function(e){return e.stopPropagation(),t._handleWheel(e)},mousewheel:function(e){return e.stopPropagation(),t._handleWheel(e)}}}),t._v(" "),t.showRemoveButton&&t.img&&!t.passive?n("svg",{staticClass:"icon icon-remove",style:"top: -"+t.height/40+"px; right: -"+t.width/40+"px",attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:t.removeButtonSize||t.width/10,height:t.removeButtonSize||t.width/10},on:{click:t.remove}},[n("path",{attrs:{d:"M511.921231 0C229.179077 0 0 229.257846 0 512 0 794.702769 229.179077 1024 511.921231 1024 794.781538 1024 1024 794.702769 1024 512 1024 229.257846 794.781538 0 511.921231 0ZM732.041846 650.633846 650.515692 732.081231C650.515692 732.081231 521.491692 593.683692 511.881846 593.683692 502.429538 593.683692 373.366154 732.081231 373.366154 732.081231L291.761231 650.633846C291.761231 650.633846 430.316308 523.500308 430.316308 512.196923 430.316308 500.696615 291.761231 373.523692 291.761231 373.523692L373.366154 291.918769C373.366154 291.918769 503.453538 430.395077 511.881846 430.395077 520.349538 430.395077 650.515692 291.918769 650.515692 291.918769L732.041846 373.523692C732.041846 373.523692 593.447385 502.547692 593.447385 512.196923 593.447385 521.412923 732.041846 650.633846 732.041846 650.633846Z",fill:t.removeButtonColor}})]):t._e(),t._v(" "),t.showLoading&&t.loading?n("div",{staticClass:"sk-fading-circle",style:t.loadingStyle},t._l(12,(function(i){return n("div",{key:i,class:"sk-circle"+i+" sk-circle"},[n("div",{staticClass:"sk-circle-indicator",style:{backgroundColor:t.loadingColor}})])}))):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[],model:{prop:"value",event:r},props:o,data:function(){return{canvas:null,ctx:null,originalImage:null,img:null,video:null,dragging:!1,lastMovingCoord:null,imgData:{width:0,height:0,startX:0,startY:0},fileDraggedOver:!1,tabStart:0,scrolling:!1,pinching:!1,rotating:!1,pinchDistance:0,supportTouch:!1,pointerMoved:!1,pointerStartCoord:null,naturalWidth:0,naturalHeight:0,scaleRatio:null,orientation:1,userMetadata:null,imageSet:!1,currentPointerCoord:null,currentIsInitial:!1,loading:!1,realWidth:0,realHeight:0,chosenFile:null,useAutoSizing:!1}},computed:{outputWidth:function(){return(this.useAutoSizing?this.realWidth:this.width)*this.quality},outputHeight:function(){return(this.useAutoSizing?this.realHeight:this.height)*this.quality},computedPlaceholderFontSize:function(){return this.placeholderFontSize*this.quality},aspectRatio:function(){return this.naturalWidth/this.naturalHeight},loadingStyle:function(){return{width:this.loadingSize+"px",height:this.loadingSize+"px",right:"15px",bottom:"10px"}}},mounted:function(){var t=this;this._initialize(),u.rAFPolyfill(),u.toBlobPolyfill(),this.supportDetection().basic||console.warn("Your browser does not support vue-croppa functionality."),this.passive&&this.$watch("value._data",(function(data){var e=!1;if(data){for(var n in data)if(P.indexOf(n)>=0){var o=data[n];o!==t[n]&&(t.$set(t,n,o),e=!0)}e&&(t.img?t.$nextTick((function(){t._draw()})):t.remove())}}),{deep:!0}),this.useAutoSizing=!!(this.autoSizing&&this.$refs.wrapper&&getComputedStyle),this.useAutoSizing&&this._autoSizingInit()},beforeDestroy:function(){this.useAutoSizing&&this._autoSizingRemove()},watch:{outputWidth:function(){this.onDimensionChange()},outputHeight:function(){this.onDimensionChange()},canvasColor:function(){this.img?this._draw():this._setPlaceholders()},imageBorderRadius:function(){this.img&&this._draw()},placeholder:function(){this.img||this._setPlaceholders()},placeholderColor:function(){this.img||this._setPlaceholders()},computedPlaceholderFontSize:function(){this.img||this._setPlaceholders()},preventWhiteSpace:function(t){t&&(this.imageSet=!1),this._placeImage()},scaleRatio:function(t,e){if(!this.passive&&this.img&&u.numberValid(t)){var n=1;u.numberValid(e)&&0!==e&&(n=t/e);var o=this.currentPointerCoord||{x:this.imgData.startX+this.imgData.width/2,y:this.imgData.startY+this.imgData.height/2};if(this.imgData.width=this.naturalWidth*t,this.imgData.height=this.naturalHeight*t,!this.userMetadata&&this.imageSet&&!this.rotating){var r=(n-1)*(o.x-this.imgData.startX),h=(n-1)*(o.y-this.imgData.startY);this.imgData.startX=this.imgData.startX-r,this.imgData.startY=this.imgData.startY-h}this.preventWhiteSpace&&(this._preventZoomingToWhiteSpace(),this._preventMovingToWhiteSpace())}},"imgData.width":function(t,e){u.numberValid(t)&&(this.scaleRatio=t/this.naturalWidth,this.hasImage()&&Math.abs(t-e)>1e-5*t&&(this.emitEvent(w),this._draw()))},"imgData.height":function(t){u.numberValid(t)&&(this.scaleRatio=t/this.naturalHeight)},"imgData.startX":function(t){this.hasImage()&&this.$nextTick(this._draw)},"imgData.startY":function(t){this.hasImage()&&this.$nextTick(this._draw)},loading:function(t){this.passive||(t?this.emitEvent(_):this.emitEvent(S))},autoSizing:function(t){this.useAutoSizing=!!(this.autoSizing&&this.$refs.wrapper&&getComputedStyle),t?this._autoSizingInit():this._autoSizingRemove()}},methods:{emitEvent:function(){this.$emit.apply(this,arguments)},getCanvas:function(){return this.canvas},getContext:function(){return this.ctx},getChosenFile:function(){return this.chosenFile||this.$refs.fileInput.files[0]},move:function(t){if(t&&!this.passive){var e=this.imgData.startX,n=this.imgData.startY;this.imgData.startX+=t.x,this.imgData.startY+=t.y,this.preventWhiteSpace&&this._preventMovingToWhiteSpace(),this.imgData.startX===e&&this.imgData.startY===n||(this.emitEvent(v),this._draw())}},moveUpwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:0,y:-t})},moveDownwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:0,y:t})},moveLeftwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:-t,y:0})},moveRightwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:t,y:0})},zoom:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.passive){var n=this.zoomSpeed*e,o=1e-5*this.outputWidth*n,r=1;t?r=1+o:this.imgData.width>10&&(r=1-o),this.scaleRatio*=r}},zoomIn:function(){this.zoom(!0)},zoomOut:function(){this.zoom(!1)},rotate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.disableRotation||this.disabled||this.passive||(t=parseInt(t),(isNaN(t)||t>3||t<-3)&&(console.warn("Invalid argument for rotate() method. It should one of the integers from -3 to 3."),t=1),this._rotateByStep(t))},flipX:function(){this.disableRotation||this.disabled||this.passive||this._setOrientation(2)},flipY:function(){this.disableRotation||this.disabled||this.passive||this._setOrientation(4)},refresh:function(){this.$nextTick(this._initialize)},hasImage:function(){return!!this.imageSet},applyMetadata:function(t){if(t&&!this.passive){this.userMetadata=t;var e=t.orientation||this.orientation||1;this._setOrientation(e,!0)}},generateDataUrl:function(t,e){return this.hasImage()?this.canvas.toDataURL(t,e):""},generateBlob:function(t,e,n){this.hasImage()?this.canvas.toBlob(t,e,n):t(null)},promisedBlob:function(){for(var t=this,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];if("undefined"!=typeof Promise)return new Promise((function(e,o){try{t.generateBlob.apply(t,[function(t){e(t)}].concat(n))}catch(t){o(t)}}));console.warn("No Promise support. Please add Promise polyfill if you want to use this method.")},getMetadata:function(){if(!this.hasImage())return{};var t=this.imgData;return{startX:t.startX,startY:t.startY,scale:this.scaleRatio,orientation:this.orientation}},supportDetection:function(){if("undefined"!=typeof window){var div=document.createElement("div");return{basic:window.requestAnimationFrame&&window.File&&window.FileReader&&window.FileList&&window.Blob,dnd:"ondragstart"in div&&"ondrop"in div}}},chooseFile:function(){this.passive||this.$refs.fileInput.click()},remove:function(){if(this.imageSet){this._setPlaceholders();var t=null!=this.img;this.originalImage=null,this.img=null,this.$refs.fileInput.value="",this.imgData={width:0,height:0,startX:0,startY:0},this.orientation=1,this.scaleRatio=null,this.userMetadata=null,this.imageSet=!1,this.chosenFile=null,this.video&&(this.video.pause(),this.video=null),t&&this.emitEvent(m)}},addClipPlugin:function(t){if(this.clipPlugins||(this.clipPlugins=[]),!("function"==typeof t&&this.clipPlugins.indexOf(t)<0))throw Error("Clip plugins should be functions");this.clipPlugins.push(t)},emitNativeEvent:function(t){this.emitEvent(t.type,t)},_setContainerSize:function(){this.useAutoSizing&&(this.realWidth=+getComputedStyle(this.$refs.wrapper).width.slice(0,-2),this.realHeight=+getComputedStyle(this.$refs.wrapper).height.slice(0,-2))},_autoSizingInit:function(){this._setContainerSize(),window.addEventListener("resize",this._setContainerSize)},_autoSizingRemove:function(){this._setContainerSize(),window.removeEventListener("resize",this._setContainerSize)},_initialize:function(){this.canvas=this.$refs.canvas,this._setSize(),this.canvas.style.backgroundColor=this.canvasColor&&"default"!=this.canvasColor?"string"==typeof this.canvasColor?this.canvasColor:"":"transparent",this.ctx=this.canvas.getContext("2d"),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.ctx.webkitImageSmoothingEnabled=!0,this.ctx.msImageSmoothingEnabled=!0,this.ctx.imageSmoothingEnabled=!0,this.originalImage=null,this.img=null,this.$refs.fileInput.value="",this.imageSet=!1,this.chosenFile=null,this._setInitial(),this.passive||this.emitEvent(r,this)},_setSize:function(){this.canvas.width=this.outputWidth,this.canvas.height=this.outputHeight,this.canvas.style.width=(this.useAutoSizing?this.realWidth:this.width)+"px",this.canvas.style.height=(this.useAutoSizing?this.realHeight:this.height)+"px"},_rotateByStep:function(t){var e=1;switch(t){case 1:e=6;break;case 2:e=3;break;case 3:case-1:e=8;break;case-2:e=3;break;case-3:e=6}this._setOrientation(e)},_setImagePlaceholder:function(){var t=this,img=void 0;if(this.$slots.placeholder&&this.$slots.placeholder[0]){var e=this.$slots.placeholder[0],n=e.tag,o=e.elm;"img"==n&&o&&(img=o)}if(img){var r=function(){t.ctx.drawImage(img,0,0,t.outputWidth,t.outputHeight)};u.imageLoaded(img)?r():img.onload=r}},_setTextPlaceholder:function(){var t=this.ctx;t.textBaseline="middle",t.textAlign="center";var e=this.outputWidth*(2/3)/this.placeholder.length,n=this.computedPlaceholderFontSize&&0!=this.computedPlaceholderFontSize?this.computedPlaceholderFontSize:e;t.font=n+"px sans-serif",t.fillStyle=this.placeholderColor&&"default"!=this.placeholderColor?this.placeholderColor:"#606060",t.fillText(this.placeholder,this.outputWidth/2,this.outputHeight/2)},_setPlaceholders:function(){this._paintBackground(),this._setImagePlaceholder(),this._setTextPlaceholder()},_setInitial:function(){var t=this,e=void 0,img=void 0;if(this.$slots.initial&&this.$slots.initial[0]){var n=this.$slots.initial[0],o=n.tag,r=n.elm;"img"==o&&r&&(img=r)}this.initialImage&&"string"==typeof this.initialImage?(e=this.initialImage,img=new Image,/^data:/.test(e)||/^blob:/.test(e)||img.setAttribute("crossOrigin","anonymous"),img.src=e):"object"===k(this.initialImage)&&this.initialImage instanceof Image&&(img=this.initialImage),e||img?(this.currentIsInitial=!0,u.imageLoaded(img)?this._onload(img,+img.dataset.exifOrientation,!0):(this.loading=!0,img.onload=function(){t._onload(img,+img.dataset.exifOrientation,!0)},img.onerror=function(){t._setPlaceholders()})):this._setPlaceholders()},_onload:function(img){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments[2];this.imageSet&&this.remove(),this.originalImage=img,this.img=img,isNaN(t)&&(t=1),this._setOrientation(t),e&&this.emitEvent(D)},_onVideoLoad:function(video,t){var e=this;this.video=video;var canvas=document.createElement("canvas"),n=video.videoWidth,o=video.videoHeight;canvas.width=n,canvas.height=o;var r=canvas.getContext("2d");this.loading=!1;var h=function(t){if(e.video){r.drawImage(e.video,0,0,n,o);var h=new Image;h.src=canvas.toDataURL(),h.onload=function(){e.img=h,t?e._placeImage():e._draw()}}};h(!0);var l=function t(){e.$nextTick((function(){h(),!e.video||e.video.ended||e.video.paused||requestAnimationFrame(t)}))};this.video.addEventListener("play",(function(){requestAnimationFrame(l)}))},_handleClick:function(t){this.emitNativeEvent(t),this.hasImage()||this.disableClickToChoose||this.disabled||this.supportTouch||this.passive||this.chooseFile()},_handleDblClick:function(t){this.emitNativeEvent(t),this.videoEnabled&&this.video&&(this.video.paused||this.video.ended?this.video.play():this.video.pause())},_handleInputChange:function(){var input=this.$refs.fileInput;if(input.files.length&&!this.passive){var t=input.files[0];this._onNewFileIn(t)}},_onNewFileIn:function(t){var e=this;if(this.currentIsInitial=!1,this.loading=!0,this.emitEvent(h,t),this.chosenFile=t,!this._fileSizeIsValid(t))return this.loading=!1,this.emitEvent(l,t),!1;if(!this._fileTypeIsValid(t))return this.loading=!1,this.emitEvent(c,t),t.type||t.name.toLowerCase().split(".").pop(),!1;if("undefined"!=typeof window&&void 0!==window.FileReader){var n=new FileReader;n.onload=function(n){var o=n.target.result,r=u.parseDataUrl(o);if(/^video/.test(t.type)){var video=document.createElement("video");video.src=o,o=null,video.readyState>=video.HAVE_FUTURE_DATA?e._onVideoLoad(video):video.addEventListener("canplay",(function(){console.log("can play event"),e._onVideoLoad(video)}),!1)}else{var h=1;try{h=u.getFileOrientation(u.base64ToArrayBuffer(r))}catch(t){}h<1&&(h=1);var img=new Image;img.src=o,o=null,img.onload=function(){e._onload(img,h),e.emitEvent(d)}}},n.readAsDataURL(t)}},_fileSizeIsValid:function(t){return!!t&&(!this.fileSizeLimit||0==this.fileSizeLimit||t.size<this.fileSizeLimit)},_fileTypeIsValid:function(t){if(!(this.videoEnabled&&/^video/.test(t.type)&&document.createElement("video").canPlayType(t.type)||/^image/.test(t.type)))return!1;if(!this.accept)return!0;for(var e=this.accept,n=e.replace(/\/.*$/,""),o=e.split(","),i=0,r=o.length;i<r;i++){var h=o[i],l=h.trim();if("."==l.charAt(0)){if(t.name.toLowerCase().split(".").pop()===l.toLowerCase().slice(1))return!0}else if(/\/\*$/.test(l)){if(t.type.replace(/\/.*$/,"")===n)return!0}else if(t.type===h)return!0}return!1},_placeImage:function(t){if(this.img){var e=this.imgData;if(this.naturalWidth=this.img.naturalWidth,this.naturalHeight=this.img.naturalHeight,e.startX=u.numberValid(e.startX)?e.startX:0,e.startY=u.numberValid(e.startY)?e.startY:0,this.preventWhiteSpace?this._aspectFill():this.imageSet?(this.imgData.width=this.naturalWidth*this.scaleRatio,this.imgData.height=this.naturalHeight*this.scaleRatio):"contain"==this.initialSize?this._aspectFit():"natural"==this.initialSize?this._naturalSize():this._aspectFill(),!this.imageSet&&(/top/.test(this.initialPosition)?e.startY=0:/bottom/.test(this.initialPosition)&&(e.startY=this.outputHeight-e.height),/left/.test(this.initialPosition)?e.startX=0:/right/.test(this.initialPosition)&&(e.startX=this.outputWidth-e.width),/^-?\d+% -?\d+%$/.test(this.initialPosition))){var n=/^(-?\d+)% (-?\d+)%$/.exec(this.initialPosition),o=+n[1]/100,r=+n[2]/100;e.startX=o*(this.outputWidth-e.width),e.startY=r*(this.outputHeight-e.height)}t&&this._applyMetadata(),t&&this.preventWhiteSpace?this.zoom(!1,0):(this.move({x:0,y:0}),this._draw())}},_aspectFill:function(){var t=this.naturalWidth,e=this.naturalHeight,n=this.outputWidth/this.outputHeight,o=void 0;this.aspectRatio>n?(o=e/this.outputHeight,this.imgData.width=t/o,this.imgData.height=this.outputHeight,this.imgData.startX=-(this.imgData.width-this.outputWidth)/2,this.imgData.startY=0):(o=t/this.outputWidth,this.imgData.height=e/o,this.imgData.width=this.outputWidth,this.imgData.startY=-(this.imgData.height-this.outputHeight)/2,this.imgData.startX=0)},_aspectFit:function(){var t=this.naturalWidth,e=this.naturalHeight,n=this.outputWidth/this.outputHeight,o=void 0;this.aspectRatio>n?(o=t/this.outputWidth,this.imgData.height=e/o,this.imgData.width=this.outputWidth,this.imgData.startY=-(this.imgData.height-this.outputHeight)/2,this.imgData.startX=0):(o=e/this.outputHeight,this.imgData.width=t/o,this.imgData.height=this.outputHeight,this.imgData.startX=-(this.imgData.width-this.outputWidth)/2,this.imgData.startY=0)},_naturalSize:function(){var t=this.naturalWidth,e=this.naturalHeight;this.imgData.width=t,this.imgData.height=e,this.imgData.startX=-(this.imgData.width-this.outputWidth)/2,this.imgData.startY=-(this.imgData.height-this.outputHeight)/2},_handlePointerStart:function(t){if(this.emitNativeEvent(t),!this.passive){this.supportTouch=!0,this.pointerMoved=!1;var e=u.getPointerCoords(t,this);if(this.pointerStartCoord=e,!this.disabled)if(this.hasImage()||this.disableClickToChoose){if(!(t.which&&t.which>1)){if(!t.touches||1===t.touches.length){this.dragging=!0,this.pinching=!1;var n=u.getPointerCoords(t,this);this.lastMovingCoord=n}t.touches&&2===t.touches.length&&!this.disablePinchToZoom&&(this.dragging=!1,this.pinching=!0,this.pinchDistance=u.getPinchDistance(t,this));for(var o=["mouseup","touchend","touchcancel","pointerend","pointercancel"],i=0,r=o.length;i<r;i++){var h=o[i];document.addEventListener(h,this._handlePointerEnd)}}}else this.tabStart=(new Date).valueOf()}},_handlePointerEnd:function(t){if(this.emitNativeEvent(t),!this.passive){var e=0;if(this.pointerStartCoord){var n=u.getPointerCoords(t,this);e=Math.sqrt(Math.pow(n.x-this.pointerStartCoord.x,2)+Math.pow(n.y-this.pointerStartCoord.y,2))||0}if(!this.disabled){if(!this.hasImage()&&!this.disableClickToChoose){var o=(new Date).valueOf();return e<100&&o-this.tabStart<500&&this.supportTouch&&this.chooseFile(),void(this.tabStart=0)}this.dragging=!1,this.pinching=!1,this.pinchDistance=0,this.lastMovingCoord=null,this.pointerMoved=!1,this.pointerStartCoord=null}}},_handlePointerMove:function(t){if(this.emitNativeEvent(t),!this.passive&&(this.pointerMoved=!0,this.hasImage())){var e=u.getPointerCoords(t,this);if(this.currentPointerCoord=e,!this.disabled&&!this.disableDragToMove){if(t.preventDefault(),!t.touches||1===t.touches.length){if(!this.dragging)return;this.lastMovingCoord&&this.move({x:e.x-this.lastMovingCoord.x,y:e.y-this.lastMovingCoord.y}),this.lastMovingCoord=e}if(t.touches&&2===t.touches.length&&!this.disablePinchToZoom){if(!this.pinching)return;var n=u.getPinchDistance(t,this),o=n-this.pinchDistance;this.zoom(o>0,1),this.pinchDistance=n}}}},_handlePointerLeave:function(t){this.emitNativeEvent(t),this.passive||(this.currentPointerCoord=null)},_handleWheel:function(t){var e=this;this.emitNativeEvent(t),this.passive||this.disabled||this.disableScrollToZoom||!this.hasImage()||(t.preventDefault(),this.scrolling=!0,t.wheelDelta<0||t.deltaY>0||t.detail>0?this.zoom(this.reverseScrollToZoom):(t.wheelDelta>0||t.deltaY<0||t.detail<0)&&this.zoom(!this.reverseScrollToZoom),this.$nextTick((function(){e.scrolling=!1})))},_handleDragEnter:function(t){this.emitNativeEvent(t),this.passive||this.disabled||this.disableDragAndDrop||!u.eventHasFile(t)||this.hasImage()&&!this.replaceDrop||(this.fileDraggedOver=!0)},_handleDragLeave:function(t){this.emitNativeEvent(t),this.passive||this.fileDraggedOver&&u.eventHasFile(t)&&(this.fileDraggedOver=!1)},_handleDragOver:function(t){this.emitNativeEvent(t)},_handleDrop:function(t){if(this.emitNativeEvent(t),!this.passive&&this.fileDraggedOver&&u.eventHasFile(t)&&(!this.hasImage()||this.replaceDrop)){this.fileDraggedOver=!1;var e=void 0,dt=t.dataTransfer;if(dt){if(dt.items)for(var i=0,n=dt.items.length;i<n;i++){var o=dt.items[i];if("file"==o.kind){e=o.getAsFile();break}}else e=dt.files[0];e&&this._onNewFileIn(e)}}},_preventMovingToWhiteSpace:function(){this.imgData.startX>0&&(this.imgData.startX=0),this.imgData.startY>0&&(this.imgData.startY=0),this.outputWidth-this.imgData.startX>this.imgData.width&&(this.imgData.startX=-(this.imgData.width-this.outputWidth)),this.outputHeight-this.imgData.startY>this.imgData.height&&(this.imgData.startY=-(this.imgData.height-this.outputHeight))},_preventZoomingToWhiteSpace:function(){this.imgData.width<this.outputWidth&&(this.scaleRatio=this.outputWidth/this.naturalWidth),this.imgData.height<this.outputHeight&&(this.scaleRatio=this.outputHeight/this.naturalHeight)},_setOrientation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,n=arguments[1],o=n;if(e>1||o){if(!this.img)return;this.rotating=!0;var r=u.getRotatedImage(o?this.originalImage:this.img,e);r.onload=function(){t.img=r,t._placeImage(n)}}else this._placeImage(n);this.orientation=2==e?u.flipX(this.orientation):4==e?u.flipY(this.orientation):6==e?u.rotate90(this.orientation):3==e?u.rotate90(u.rotate90(this.orientation)):8==e?u.rotate90(u.rotate90(u.rotate90(this.orientation))):e,o&&(this.orientation=e)},_paintBackground:function(){var t=this.canvasColor&&"default"!=this.canvasColor?this.canvasColor:"transparent";this.ctx.fillStyle=t,this.ctx.clearRect(0,0,this.outputWidth,this.outputHeight),this.ctx.fillRect(0,0,this.outputWidth,this.outputHeight)},_draw:function(){var t=this;this.$nextTick((function(){"undefined"!=typeof window&&window.requestAnimationFrame?requestAnimationFrame(t._drawFrame):t._drawFrame()}))},_drawFrame:function(){if(this.img){this.loading=!1;var t=this.ctx,e=this.imgData,n=e.startX,o=e.startY,r=e.width,h=e.height;this._paintBackground(),t.drawImage(this.img,n,o,r,h),this.preventWhiteSpace&&this._clip(this._createContainerClipPath),this.emitEvent(y,t),this.imageSet||(this.imageSet=!0,this.emitEvent(f)),this.rotating=!1}},_clipPathFactory:function(t,e,n,o){var r=this.ctx,h="number"==typeof this.imageBorderRadius?this.imageBorderRadius:isNaN(Number(this.imageBorderRadius))?0:Number(this.imageBorderRadius);r.beginPath(),r.moveTo(t+h,e),r.lineTo(t+n-h,e),r.quadraticCurveTo(t+n,e,t+n,e+h),r.lineTo(t+n,e+o-h),r.quadraticCurveTo(t+n,e+o,t+n-h,e+o),r.lineTo(t+h,e+o),r.quadraticCurveTo(t,e+o,t,e+o-h),r.lineTo(t,e+h),r.quadraticCurveTo(t,e,t+h,e),r.closePath()},_createContainerClipPath:function(){var t=this;this._clipPathFactory(0,0,this.outputWidth,this.outputHeight),this.clipPlugins&&this.clipPlugins.length&&this.clipPlugins.forEach((function(e){e(t.ctx,0,0,t.outputWidth,t.outputHeight)}))},_clip:function(t){var e=this.ctx;e.save(),e.fillStyle="#fff",e.globalCompositeOperation="destination-in",t(),e.fill(),e.restore()},_applyMetadata:function(){var t=this;if(this.userMetadata){var e=this.userMetadata,n=e.startX,o=e.startY,r=e.scale;u.numberValid(n)&&(this.imgData.startX=n),u.numberValid(o)&&(this.imgData.startY=o),u.numberValid(r)&&(this.scaleRatio=r),this.$nextTick((function(){t.userMetadata=null}))}},onDimensionChange:function(){this.img?(this.preventWhiteSpace&&(this.imageSet=!1),this._setSize(),this._placeImage()):this._initialize()}}},C=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;function z(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var E=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,source){for(var e,n,o=z(t),s=1;s<arguments.length;s++){for(var r in e=Object(arguments[s]))x.call(e,r)&&(o[r]=e[r]);if(C){n=C(e);for(var i=0;i<n.length;i++)I.call(e,n[i])&&(o[n[i]]=e[n[i]])}}return o},F={componentName:"croppa"};return{install:function(t,e){e=E({},F,e);var n=Number(t.version.split(".")[0]);if(n<2)throw new Error("vue-croppa supports vue version 2.0 and above. You are using Vue@"+n+". Please upgrade to the latest version of Vue.");var o=e.componentName||"croppa";t.component(o,component)},component:component}},t.exports=n()}).call(this,n(21))},281:function(t,e,n){var content=n(388);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(30).default)("9fef6d2a",content,!0,{sourceMap:!1})},388:function(t,e,n){(e=n(29)(!1)).push([t.i,".sk-fading-circle{position:absolute}.sk-fading-circle .sk-circle{width:100%;height:100%;position:absolute;left:0;top:0}.sk-fading-circle .sk-circle .sk-circle-indicator{display:block;margin:0 auto;width:15%;height:15%;border-radius:100%;-webkit-animation:sk-circleFadeDelay 1s ease-in-out infinite both;animation:sk-circleFadeDelay 1s ease-in-out infinite both}.sk-fading-circle .sk-circle2{transform:rotate(30deg)}.sk-fading-circle .sk-circle3{transform:rotate(60deg)}.sk-fading-circle .sk-circle4{transform:rotate(90deg)}.sk-fading-circle .sk-circle5{transform:rotate(120deg)}.sk-fading-circle .sk-circle6{transform:rotate(150deg)}.sk-fading-circle .sk-circle7{transform:rotate(180deg)}.sk-fading-circle .sk-circle8{transform:rotate(210deg)}.sk-fading-circle .sk-circle9{transform:rotate(240deg)}.sk-fading-circle .sk-circle10{transform:rotate(270deg)}.sk-fading-circle .sk-circle11{transform:rotate(300deg)}.sk-fading-circle .sk-circle12{transform:rotate(330deg)}.sk-fading-circle .sk-circle2 .sk-circle-indicator{-webkit-animation-delay:-.91667s;animation-delay:-.91667s}.sk-fading-circle .sk-circle3 .sk-circle-indicator{-webkit-animation-delay:-.83333s;animation-delay:-.83333s}.sk-fading-circle .sk-circle4 .sk-circle-indicator{-webkit-animation-delay:-.75s;animation-delay:-.75s}.sk-fading-circle .sk-circle5 .sk-circle-indicator{-webkit-animation-delay:-.66667s;animation-delay:-.66667s}.sk-fading-circle .sk-circle6 .sk-circle-indicator{-webkit-animation-delay:-.58333s;animation-delay:-.58333s}.sk-fading-circle .sk-circle7 .sk-circle-indicator{-webkit-animation-delay:-.5s;animation-delay:-.5s}.sk-fading-circle .sk-circle8 .sk-circle-indicator{-webkit-animation-delay:-.41667s;animation-delay:-.41667s}.sk-fading-circle .sk-circle9 .sk-circle-indicator{-webkit-animation-delay:-.33333s;animation-delay:-.33333s}.sk-fading-circle .sk-circle10 .sk-circle-indicator{-webkit-animation-delay:-.25s;animation-delay:-.25s}.sk-fading-circle .sk-circle11 .sk-circle-indicator{-webkit-animation-delay:-.16667s;animation-delay:-.16667s}.sk-fading-circle .sk-circle12 .sk-circle-indicator{-webkit-animation-delay:-.08333s;animation-delay:-.08333s}@-webkit-keyframes sk-circleFadeDelay{0%,39%,to{opacity:0}40%{opacity:1}}@keyframes sk-circleFadeDelay{0%,39%,to{opacity:0}40%{opacity:1}}.croppa-container{display:inline-block;cursor:pointer;position:relative;font-size:0;align-self:flex-start;background-color:#e6e6e6}.croppa-container,.croppa-container canvas{transition:all .3s}.croppa-container:hover{opacity:.7}.croppa-container.croppa--dropzone{box-shadow:inset 0 0 10px #333}.croppa-container.croppa--dropzone canvas{opacity:.5}.croppa-container.croppa--disabled-cc{cursor:default}.croppa-container.croppa--disabled-cc:hover{opacity:1}.croppa-container.croppa--has-target{cursor:move}.croppa-container.croppa--has-target:hover{opacity:1}.croppa-container.croppa--has-target.croppa--disabled-mz{cursor:default}.croppa-container.croppa--disabled{cursor:not-allowed}.croppa-container.croppa--disabled:hover{opacity:1}.croppa-container.croppa--passive{cursor:default}.croppa-container.croppa--passive:hover{opacity:1}.croppa-container svg.icon-remove{position:absolute;background:#fff;border-radius:50%;filter:drop-shadow(-2px 2px 2px rgba(0,0,0,.7));z-index:10;cursor:pointer;border:2px solid #fff}",""]),t.exports=e}}]);